<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><title>teamcity intro</title><link rel="stylesheet" type="text/css" href="styles/main.css"></head><body><article><section><h1 class="fancy">Teamcity </h1><h1 class="fancy">intro</h1></section><section class="text-left"><h3>Непрерывная интеграция — это практика разработки программного обеспечения, которая заключается в выполнении частых автоматизированных сборок проекта для скорейшего выявления и решения интеграционных проблем. В обычном проекте, где над разными частями системы разработчики трудятся независимо, стадия интеграции является заключительной. Она может непредсказуемо задержать окончание работ. Переход к непрерывной интеграции позволяет снизить трудоёмкость интеграции и сделать её более предсказуемой за счет наиболее раннего обнаружения и устранения ошибок и противоречий.</h3><h3>Martin Fowler, 2006</h3></section><section><img src="http://bugscatcher.net/wp-content/uploads/2013/03/ContinuousIntegrationCycle.png" width="900px" height="800px"></section><section><h1>Плюсы</h1><ul><li>Автоматически готовое окружение для тестирования.</li><li>Постоянно доступны последние изменения.</li><li>Стабильная сборка.</li><li>Есть ответы на многие вопросы – что? где? когда?</li><li>С помощью CI систем можно быстро откатиться на предыдущие версии приложения.</li><li>Окружение, которое максимально похоже на продакшан делает тестирование полезней.("у меня локально не воспроизводится")</li><li>CI стимулирует разработчиков к улучшению кода и внедрению инженерных практик.</li></ul></section><section><h1>Минусы и возможные проблемы</h1><ul><li>Нужно поддерживать</li><li>Постоянное обновление тестовых серверов. Процесс сборки хоть и занимает мало времени, но в это время тестирование приостанавливается.</li><li>Иногда, при очередной сборке тестовые данные могут теряться.</li><li>Отсутствие авто-тестов. Нет гарантии, что что-то не отвалилось. Авто-тесты позволяют проводить мини-регрессию при каждом коммите, тем самым давая спокойствие команде тестирования (ведь, ошибка может пробраться в уже протестированный участок функционала).</li><li>Легко запутаться где что настраивается и тестируется</li></ul></section><section><h1>Процесс</h1><ul><li>Триггер. Событие, при котором запускается сборка продукта. Таким событием может быть: изменения в коде, определенное время, нажатие на кнопку.</li><li>Выкачивание исходного кода</li><li>Сборка проекта из исходников.</li><li>Развертывание базы данных.</li><li>Развертывание приложения.</li><li>Тесты. Авто-тесты не являются обязательными, но их выполнение крайне желательно. Это один из важных пунктов хороших практик CI.</li><li>Статус, отчеты, уведомления по результатам сборки. После прогона тестов получаем результат сборки, детальные отчеты по каждому из этапов интеграции</li></ul></section><section><h1>Teamcity:</h1><h2>Server:</h2><ul><li>работает с системой контроля версии(не всегда)</li><li>координирует билдагентов</li><li>хранит артефакты(результаты билдов)</li><li>веб-интерфейс</li></ul><h2>BuildAgent:</h2><ul><li>выполняет команды сервера, то есть скрипты, которые вы напишете</li></ul></section><section><h1>Что есть у нас сегодня </h1><ul><li>простейший "тест" на сборку проекта по коммиту</li><li>еженедельный и по запросу запуск тест-сьют </li><li>сборка и деплой проекта из кастомной бранчи (на самом деле деплой и старт сервера  - это неправильно, так как тимсити после окончания работы скрипта не показывает- и не должен- состояние, нужна дополнительная тулза)</li></ul></section><section><h1>Что должно быть </h1><ul><li>Тесты, которых нет)</li><li>Всё, что занимает много времени, что может быть автоматизированно</li></ul></section></article><script src="bower_components/bespoke.js/dist/bespoke.min.js"></script><script src="bower_components/bespoke-bullets/dist/bespoke-bullets.min.js"></script><script src="bower_components/bespoke-hash/dist/bespoke-hash.min.js"></script><script src="bower_components/bespoke-state/dist/bespoke-state.min.js"></script><script src="bower_components/prism/prism.js"></script><script src="scripts/main.js"></script></body></html>